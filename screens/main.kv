#:kivy 1.10.1

<MessageView>:
    orientation: 'horizontal'
    size_hint_y: None
    height: '48dp'
    padding: '2dp'
    canvas:
        Color:
            rgba: .3, .3, .3, .3
        Rectangle:
            pos: self.pos
            size: self.size
    Label:
        text: root.Node
    Label:
        text: root.Message
    Label:
        text: root.TimeStamp
    Button:
        font_name: 'Font-Awesome-Solid.ttf'
        font_size: '30dp'
        text: u'\uf06e' #eye
        size_hint_x: None
        width: self.height
        on_release: root.view_node_message(root.ScreenName, root.NodeMessageId)
    Button:
        font_name: 'Font-Awesome-Solid.ttf'
        font_size: '30dp'
        text: u'\uf1f8' #trash
        size_hint_x: None
        width: self.height
        on_release: root.delete_node_message(root.NodeMessageId)

SmartiePiScreen:
    name: 'Main'

    TabbedPanel:
        id: tp
        do_default_tab: False
        
        TabbedPanelItem:
            id: tab_messages
            font_name: 'Font-Awesome-Solid.ttf'
            font_size: '30dp'
            text: u'\uf118' #smilee


            BoxLayout:
                orientation: 'vertical'
                padding: '4dp'


                canvas:
                    Color:
                        rgb: 0, 0, 0
                    Rectangle:
                        pos: self.pos
                        size: self.size
                MainRecycleView:
                    id: main_view
                    viewclass: "MessageView"
                    
                    RecycleBoxLayout:
                        default_size: None, dp(56)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
                        spacing: '4dp'
                    
                        canvas:
                            Color:
                                rgba: 0, 0, 1, .3
                            Rectangle:

                                pos: self.pos
                                size: self.size
                
            
            
        TabbedPanelItem:
            id: tab_warnings
            font_name: 'Font-Awesome-Solid.ttf'
            font_size: '30dp'
            text: u'\uf119' #frown

            BoxLayout:
                orientation: 'vertical'

                canvas:
                    Color:
                        rgb: 0, 0, 0
                    Rectangle:
                        pos: self.pos
                        size: self.size
        TabbedPanelItem:
            id: tab_warnings
            font_name: 'Font-Awesome-Solid.ttf'
            font_size: '30dp'
            text: u'\uf54c' #skull

            BoxLayout:
                orientation: 'vertical'

                canvas:
                    Color:
                        rgb: 0, 0, 0
                    Rectangle:
                        pos: self.pos
                        size: self.size