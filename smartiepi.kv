#:kivy 1.10.1
#:include smartiepi_styles.kv

<SmartiePiScreen>:
    ScrollView:
        do_scroll_x: False
        do_scroll_y: False if root.fullscreen else (content.height > root.height - dp(16))
        
        AnchorLayout:
            size_hint_y: None
            height: root.height if root.fullscreen else max(root.height, content.height)
            
            GridLayout:
                id: content
                cols: 1
                spacing: '8dp'
                padding: '8dp'
                size_hint: (1, 1) if root.fullscreen else (.8, None)
                height: self.height if root.fullscreen else self.minimum_height
                

<SmartiePiHub>:
    BoxLayout:
        orientation: 'vertical'
        size: root.size #without this the layout does not expand to fill space
        canvas.before:
            Color:
                rgb: root_bg_color
            Rectangle:
                size: root.size 
                pos: self.pos

        BoxLayout: #top action bar

            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'
            padding: '2dp'

            canvas:
                Color:
                    rgb: actionbar_bg_color
                Rectangle:
                    pos: self.pos
                    size: self.size
                    
            Button:
                font_name: 'Font-Awesome-Solid.ttf'
                font_size: '30dp'
                text: u'\uf013' #cog
                size_hint_x: None
                width: self.height
                #background_color: .1, .1, .15
                
            Label:
                font_name: 'membra.ttf'
                font_size: '30dp'
                text: 'SmartiePi Hub' 
            #Image:
            #    #size_hint: None, None
            #    height: 80, 80
            #    source: 'sp_logo.png'

        ScreenManager:
            id: sm


        BoxLayout: #bottom action bar

            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'
            padding: '2dp'

            canvas:
                Color:
                    rgb: actionbar_bg_color
                Rectangle:
                    pos: self.pos
                    size: self.size
            Button:
                font_name: 'Font-Awesome-Solid.ttf'
                font_size: '30dp'
                text: u'\uf011' #power
                size_hint_x: None
                width: self.height
            Label:
                text: 'System Health:' #this acts as a spacer between left and right buttons
            Button:
                font_name: 'Font-Awesome-Solid.ttf'
                font_size: '30dp'
                text: u'\uf240' #battery
                size_hint_x: None
                width: self.height
            Button:
                font_name: 'Font-Awesome-Solid.ttf'
                font_size: '30dp'
                text: u'\uf028' #volume
                size_hint_x: None
                width: self.height
            Button:
                font_name: 'Font-Awesome-Solid.ttf'
                font_size: '30dp'
                text: u'\uf1eb' #wifi
                size_hint_x: None
                width: self.height
            Label:
                id: date_and_time
                text: ''
                size_hint_x: None
        
        
        

 